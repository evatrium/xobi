import{c as t}from"./createXobi.js";import{Component as e,h as o}from"preact";import{useCallback as n,useEffect as r,useState as s}from"preact/hooks";let c=()=>Object.create(null);const p=t(t=>n=>r=>{let s=!0===n;function p(){this.componentWillUnmount=(!s&&n?t.$select(n):t)[s?"$onAnyChange":"$onChange"](()=>this.setState(c())),this.render=()=>o(r,this.props,this.props.children)}return(p.prototype=new e).constructor=p},t=>e=>{let o=(([,t]=s(c()))=>n(()=>t(c()),[t]))(),p=!0===e;return r(()=>(!p&&e?t.$select(e):t)[p?"$onAnyChange":"$onChange"](o),[]),t});export{p as xobi};
